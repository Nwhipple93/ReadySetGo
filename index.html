<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prostate Cancer Awareness Wordle</title>
    <style>
        /* CSS Reset */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        /* Game Container */
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            min-height: 100vh;
            background-color: #DFE5EC;
            color: #1E2D40;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .wordle-container {
            padding: 16px;
            max-width: 100%;
            width: 500px;
        }

        .wordle-header {
            text-align: center;
            margin-bottom: 32px;
        }

        .wordle-header h1 {
            font-size: 1.875rem;
            font-weight: bold;
            margin-bottom: 8px;
            color: #1E2D40;
        }

        .wordle-header p {
            color: #687B8C;
        }

        /* Message Display */
        .message {
            background-color: #1E2D40;
            color: white;
            padding: 12px;
            border-radius: 6px;
            margin-bottom: 16px;
            text-align: center;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .message.show {
            opacity: 1;
        }

        /* Game Board */
        .board {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 8px;
            margin-bottom: 16px;
        }

        .cell {
            width: 48px;
            height: 48px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 2px solid #687B8C;
            background-color: #DFE5EC;
            color: #1E2D40;
            font-size: 1.5rem;
            font-weight: bold;
            text-transform: uppercase;
            transition: background-color 0.3s, color 0.3s;
        }

        @media (min-width: 768px) {
            .cell {
                width: 64px;
                height: 64px;
            }
        }

        .cell.correct {
            background-color: #4caf50;
            border-color: #388e3c;
            color: white;
        }

        .cell.present {
            background-color: #ff9800;
            border-color: #f57c00;
            color: white;
        }

        .cell.absent {
            background-color: #757575;
            border-color: #616161;
            color: white;
        }

        /* Controls */
        .controls {
            display: flex;
            justify-content: space-between;
            margin-bottom: 16px;
        }

        .button {
            background-color: #687B8C;
            color: white;
            padding: 8px 16px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 600;
            display: flex;
            align-items: center;
        }

        .button:hover {
            background-color: #1E2D40;
        }

        .button.hint-button {
            background-color: #F27507;
        }

        .button svg {
            margin-right: 4px;
        }

        /* Hint Display */
        .hint {
            background-color: #1E2D40;
            color: white;
            padding: 16px;
            border-radius: 6px;
            margin-bottom: 16px;
            display: none;
        }

        .hint.show {
            display: block;
        }

        .hint h2 {
            font-weight: bold;
            display: flex;
            align-items: center;
            margin-bottom: 8px;
        }

        .hint svg {
            margin-right: 8px;
        }

        /* Keyboard */
        .keyboard {
            margin-top: 16px;
        }

        .keyboard-row {
            display: flex;
            justify-content: center;
            margin-bottom: 8px;
        }

        .key {
            height: 40px;
            margin: 0 4px;
            border-radius: 4px;
            background-color: #DFE5EC;
            color: #1E2D40;
            font-weight: 600;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.875rem;
            cursor: pointer;
            min-width: 32px;
            padding: 0 8px;
            border: none;
        }

        .key.wide {
            min-width: 64px;
        }

        @media (min-width: 768px) {
            .key {
                height: 56px;
                min-width: 40px;
                font-size: 1rem;
            }
            
            .key.wide {
                min-width: 80px;
            }
        }

        .key.correct {
            background-color: #4caf50;
            color: white;
        }

        .key.present {
            background-color: #ff9800;
            color: white;
        }

        .key.absent {
            background-color: #757575;
            color: white;
        }

        /* Game Status */
        .game-status {
            margin-top: 16px;
            padding: 12px;
            border-radius: 4px;
            color: white;
            text-align: center;
            display: none;
        }

        .game-status.show {
            display: block;
        }

        .game-status.won {
            background-color: #4caf50;
        }

        .game-status.lost {
            background-color: #f44336;
        }

        /* Instructions */
        .instructions {
            margin-top: 32px;
            background-color: white;
            padding: 16px;
            border-radius: 6px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .instructions h2 {
            font-weight: bold;
            font-size: 1.25rem;
            margin-bottom: 8px;
            color: #1E2D40;
        }

        .instructions ul {
            list-style-type: disc;
            padding-left: 20px;
            color: #687B8C;
        }

        .accessibility-note {
            margin-top: 16px;
            font-size: 0.875rem;
            color: #687B8C;
        }
    </style>
</head>
<body>
    <div class="wordle-container">
        <header class="wordle-header">
            <h1>Prostate Cancer Awareness Wordle</h1>
            <p>Guess the prostate cancer-related word in six tries</p>
        </header>

        <div class="message" id="message"></div>

        <div class="board" id="board" role="grid" aria-label="Wordle game board"></div>

        <div class="controls">
            <button id="new-game-btn" class="button" aria-label="Start new game">
                New Game
            </button>
            
            <button id="hint-btn" class="button" aria-label="Show hint" aria-expanded="false">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="10"></circle>
                    <line x1="12" y1="16" x2="12" y2="12"></line>
                    <line x1="12" y1="8" x2="12.01" y2="8"></line>
                </svg>
                Show Hint
            </button>
        </div>

        <div class="hint" id="hint" role="alert">
            <h2>
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="10"></circle>
                    <line x1="12" y1="8" x2="12" y2="12"></line>
                    <line x1="12" y1="16" x2="12.01" y2="16"></line>
                </svg>
                Hint
            </h2>
            <p id="hint-text"></p>
        </div>

        <div id="keyboard" class="keyboard" role="group" aria-label="Virtual keyboard"></div>

        <div id="game-status" class="game-status">
            <p id="status-text"></p>
        </div>

        <div class="instructions">
            <h2>How to Play</h2>
            <ul>
                <li>Guess the WORDLE in six tries.</li>
                <li>Each guess must be a valid 5-letter word related to prostate cancer.</li>
                <li>After each guess, the color of the tiles will change to show how close your guess was to the word.</li>
                <li>Green: The letter is in the word and in the correct spot.</li>
                <li>Yellow: The letter is in the word but in the wrong spot.</li>
                <li>Gray: The letter is not in the word.</li>
                <li>Use the hint button if you need help.</li>
            </ul>
        </div>
        
        <div class="accessibility-note">
            <p>This game is designed to be accessible to all users, including those using screen readers. All game elements have appropriate ARIA labels. The game can be played entirely with a keyboard.</p>
        </div>
    </div>

    <script>
        // List of words related to prostate cancer
        const WORDS = [
            "MHSPC", "READY", "BRAND", "BAYER", "QUANT", 
            "CHEMO", "TUMOR", "STOCK", "PRINT", "COLOR", "TRIAL"
        ];

        // Hints for each word
        const HINTS = {
            "MHSPC": "Abbreviation for metastatic hormone-sensitive prostate cancer",
            "READY": "Prepared or available for treatment",
            "BRAND": "A type of product manufactured by a particular company",
            "BAYER": "A pharmaceutical company that develops cancer treatments",
            "QUANT": "Quantitative analysis often used in cancer research",
            "CHEMO": "A type of cancer treatment using drugs to kill cancer cells",
            "TUMOR": "An abnormal growth of tissue that can be malignant",
            "STOCK": "Shares in the ownership of a company",
            "PRINT": "To produce text or images on paper",
            "COLOR": "A property of objects related to light reflection",
            "TRIAL": "A clinical research study to evaluate medical treatments"
        };

        // Letter states
        const LetterState = {
            CORRECT: 'correct',
            PRESENT: 'present',
            ABSENT: 'absent',
            UNKNOWN: 'unknown'
        };

        // Game state
        let secretWord = '';
        let guesses = Array(6).fill('');
        let currentGuess = '';
        let currentRow = 0;
        let gameState = 'playing'; // 'playing', 'won', 'lost'
        let keyboardStatus = {};
        let usedHint = false;

        // DOM elements
        const boardElement = document.getElementById('board');
        const keyboardElement = document.getElementById('keyboard');
        const messageElement = document.getElementById('message');
        const hintButton = document.getElementById('hint-btn');
        const hintElement = document.getElementById('hint');
        const hintTextElement = document.getElementById('hint-text');
        const newGameButton = document.getElementById('new-game-btn');
        const gameStatusElement = document.getElementById('game-status');
        const statusTextElement = document.getElementById('status-text');

        // Initialize game
        function initGame() {
            // Clear previous game
            boardElement.innerHTML = '';
            keyboardElement.innerHTML = '';
            
            // Create board cells
            for (let row = 0; row < 6; row++) {
                for (let col = 0; col < 5; col++) {
                    const cell = document.createElement('div');
                    cell.className = 'cell';
                    cell.id = `cell-${row}-${col}`;
                    cell.setAttribute('role', 'cell');
                    cell.setAttribute('aria-label', 'empty');
                    boardElement.appendChild(cell);
                }
            }
            
            // Create keyboard
            const rows = [
                ['Q', 'W', 'E', 'R', 'T', 'Y', 'U', 'I', 'O', 'P'],
                ['A', 'S', 'D', 'F', 'G', 'H', 'J', 'K', 'L'],
                ['ENTER', 'Z', 'X', 'C', 'V', 'B', 'N', 'M', 'BACKSPACE']
            ];
            
            rows.forEach(row => {
                const rowElement = document.createElement('div');
                rowElement.className = 'keyboard-row';
                
                row.forEach(key => {
                    const keyElement = document.createElement('button');
                    keyElement.className = key === 'ENTER' || key === 'BACKSPACE' ? 'key wide' : 'key';
                    keyElement.textContent = key === 'BACKSPACE' ? '←' : key;
                    keyElement.id = `key-${key}`;
                    keyElement.setAttribute('aria-label', key === 'BACKSPACE' ? 'Delete' : key);
                    
                    keyElement.addEventListener('click', () => {
                        handleKeyPress(key);
                    });
                    
                    rowElement.appendChild(keyElement);
                });
                
                keyboardElement.appendChild(rowElement);
            });
            
            // Set up a new game
            startNewGame();
        }

        // Start a new game
        function startNewGame() {
            secretWord = WORDS[Math.floor(Math.random() * WORDS.length)];
            guesses = Array(6).fill('');
            currentGuess = '';
            currentRow = 0;
            gameState = 'playing';
            keyboardStatus = {};
            
            // Reset UI
            messageElement.classList.remove('show');
            hintElement.classList.remove('show');
            gameStatusElement.classList.remove('show', 'won', 'lost');
            hintButton.classList.remove('hint-button');
            hintButton.innerHTML = `
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="10"></circle>
                    <line x1="12" y1="16" x2="12" y2="12"></line>
                    <line x1="12" y1="8" x2="12.01" y2="8"></line>
                </svg>
                Show Hint
            `;
            hintButton.setAttribute('aria-expanded', 'false');
            
            // Reset board cells
            for (let row = 0; row < 6; row++) {
                for (let col = 0; col < 5; col++) {
                    const cell = document.getElementById(`cell-${row}-${col}`);
                    cell.className = 'cell';
                    cell.textContent = '';
                    cell.setAttribute('aria-label', 'empty');
                }
            }
            
            // Reset keyboard
            const allKeys = document.querySelectorAll('.key');
            allKeys.forEach(key => {
                key.classList.remove('correct', 'present', 'absent');
            });
            
            usedHint = false;
            
            // Initialize hint for the new word
            hintTextElement.textContent = HINTS[secretWord];
        }

        // Display a message
        function displayMessage(text, duration = 3000) {
            messageElement.textContent = text;
            messageElement.classList.add('show');
            
            setTimeout(() => {
                messageElement.classList.remove('show');
            }, duration);
        }

        // Check the current guess
        function checkGuess(guess) {
            const result = Array(guess.length).fill(LetterState.ABSENT);
            const secretWordArray = secretWord.split('');
            
            // Check for correct positions
            for (let i = 0; i < guess.length; i++) {
                if (guess[i] === secretWordArray[i]) {
                    result[i] = LetterState.CORRECT;
                    secretWordArray[i] = null; // Mark as used
                }
            }
            
            // Check for correct letters in wrong positions
            for (let i = 0; i < guess.length; i++) {
                if (result[i] === LetterState.ABSENT) {
                    const index = secretWordArray.indexOf(guess[i]);
                    if (index !== -1) {
                        result[i] = LetterState.PRESENT;
                        secretWordArray[index] = null; // Mark as used
                    }
                }
            }
            
            return result;
        }

        // Update the keyboard status
        function updateKeyboardStatus(guess, result) {
            for (let i = 0; i < guess.length; i++) {
                const letter = guess[i];
                const currentStatus = keyboardStatus[letter] || LetterState.UNKNOWN;
                
                // Only upgrade status, never downgrade
                if (currentStatus !== LetterState.CORRECT) {
                    if (result[i] === LetterState.CORRECT) {
                        keyboardStatus[letter] = LetterState.CORRECT;
                    } else if (result[i] === LetterState.PRESENT && currentStatus !== LetterState.CORRECT) {
                        keyboardStatus[letter] = LetterState.PRESENT;
                    } else if (result[i] === LetterState.ABSENT && currentStatus === LetterState.UNKNOWN) {
                        keyboardStatus[letter] = LetterState.ABSENT;
                    }
                }
                
                // Update keyboard UI
                const keyElement = document.getElementById(`key-${letter}`);
                if (keyElement) {
                    keyElement.classList.remove('correct', 'present', 'absent');
                    if (keyboardStatus[letter] === LetterState.CORRECT) {
                        keyElement.classList.add('correct');
                    } else if (keyboardStatus[letter] === LetterState.PRESENT) {
                        keyElement.classList.add('present');
                    } else if (keyboardStatus[letter] === LetterState.ABSENT) {
                        keyElement.classList.add('absent');
                    }
                }
            }
        }

        // Update the board UI
        function updateBoard() {
            // Update current row with the current guess
            for (let col = 0; col < 5; col++) {
                const cell = document.getElementById(`cell-${currentRow}-${col}`);
                if (col < currentGuess.length) {
                    cell.textContent = currentGuess[col];
                    cell.setAttribute('aria-label', currentGuess[col]);
                } else {
                    cell.textContent = '';
                    cell.setAttribute('aria-label', 'empty');
                }
            }
        }

        // Handle keyboard input
        function handleKeyPress(key) {
            if (gameState !== 'playing') return;
            
            if (key === 'ENTER') {
                if (currentGuess.length === 5) {
                    // Save the current guess
                    guesses[currentRow] = currentGuess;
                    
                    // Check the guess
                    const result = checkGuess(currentGuess);
                    updateKeyboardStatus(currentGuess, result);
                    
                    // Update the UI for the current row
                    for (let col = 0; col < 5; col++) {
                        const cell = document.getElementById(`cell-${currentRow}-${col}`);
                        cell.classList.remove('correct', 'present', 'absent');
                        
                        if (result[col] === LetterState.CORRECT) {
                            cell.classList.add('correct');
                            cell.setAttribute('aria-label', `${currentGuess[col]}, correct`);
                        } else if (result[col] === LetterState.PRESENT) {
                            cell.classList.add('present');
                            cell.setAttribute('aria-label', `${currentGuess[col]}, present but in wrong position`);
                        } else {
                            cell.classList.add('absent');
                            cell.setAttribute('aria-label', `${currentGuess[col]}, not in word`);
                        }
                    }
                    
                    // Check for win or loss
                    if (currentGuess === secretWord) {
                        gameState = 'won';
                        gameStatusElement.classList.add('show', 'won');
                        statusTextElement.textContent = `Congratulations! You guessed the word ${secretWord}!`;
                        displayMessage('Congratulations! You won!');
                    } else if (currentRow === 5) {
                        gameState = 'lost';
                        gameStatusElement.classList.add('show', 'lost');
                        statusTextElement.textContent = `Game over! The word was ${secretWord}.`;
                        displayMessage(`Game over! The word was ${secretWord}`);
                    } else {
                        // Move to the next row
                        currentRow++;
                        currentGuess = '';
                    }
                } else {
                    displayMessage('Not enough letters');
                }
            } else if (key === 'BACKSPACE') {
                if (currentGuess.length > 0) {
                    currentGuess = currentGuess.slice(0, -1);
                    updateBoard();
                }
            } else if (/^[A-Z]$/.test(key) && currentGuess.length < 5) {
                currentGuess += key;
                updateBoard();
            }
        }

        // Toggle hint display
        function toggleHint() {
            const isHintVisible = hintElement.classList.contains('show');
            
            if (!isHintVisible) {
                hintElement.classList.add('show');
                hintButton.textContent = 'Hide Hint';
                hintButton.setAttribute('aria-expanded', 'true');
                
                if (!usedHint) {
                    usedHint = true;
                    hintButton.classList.add('hint-button');
                }
            } else {
                hintElement.classList.remove('show');
                hintButton.innerHTML = `
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="12" cy="12" r="10"></circle>
                        <line x1="12" y1="16" x2="12" y2="12"></line>
                        <line x1="12" y1="8" x2="12.01" y2="8"></line>
                    </svg>
                    Show Hint
                `;
                hintButton.setAttribute('aria-expanded', 'false');
            }
        }

        // Physical keyboard support
        function handlePhysicalKeyboard(event) {
            if (gameState !== 'playing') return;
            
            const key = event.key.toUpperCase();
            
            if (key === 'ENTER') {
                handleKeyPress('ENTER');
            } else if (key === 'BACKSPACE' || key === 'DELETE') {
                handleKeyPress('BACKSPACE');
            } else if (/^[A-Z]$/.test(key)) {
                handleKeyPress(key);
            }
        }

        // Event listeners
        document.addEventListener('keydown', handlePhysicalKeyboard);
        hintButton.addEventListener('click', toggleHint);
        newGameButton.addEventListener('click', startNewGame);

        // Initialize the game
        initGame();
    </script>
</body>
</html>